<link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/assets/css/bxslider.css" />
<link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/assets/css/clockpicker.css" />
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script src="{{ site.baseurl }}/assets/js/jquery-1.11.0.min.js"></script>
<script src="{{ site.baseurl }}/assets/js/bootstrap.min.js"></script>
<script src="https://use.fontawesome.com/24b7f338c4.js"></script>
<script src="{{ site.baseurl }}/assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
<script src="{{ site.baseurl }}/assets/js/clockpicker.js" type="text/javascript"></script>
<script src="{{ site.baseurl }}/assets/js/datepicker-locales/bootstrap-datepicker.fr.js" type="text/javascript"></script>

<script src="{{ site.baseurl }}/assets/js/formSubmit.js"></script>

<script>
    $('.bootstrap-datepicker input').datepicker({
        todayBtn: "linked",
        language: "fr",
        autoclose: true,
        todayHighlight: true
    });
</script>

<script type="text/javascript">
    $('.clockpicker').clockpicker({
        autoclose: true
    });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-187902366-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-187902366-1');
</script>



<div id='fb-root'></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/fr_FR/all.js#xfbml=1';fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script>
<script type='text/javascript'>window.___gcfg = {lang: 'fr'};(function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/platform.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();</script>

<script type="text/javascript" src="{{ site.baseurl }}/assets/js/bxslider.min.js"></script>

<script>
    $(document).ready(function () {
        $('.bxslider').bxSlider({
            minSlides: 1,
            auto: true,
            speed: 1800,
            pause: 5000,
            maxSlides: 1,

            slideMargin: 10
        });
    });
</script>



<script type="text/javascript">
    $(window).scroll(function () {

        if ($(document).scrollTop() > 40) {
            $(".menu").animate({}, 1000);
            $(".menu").addClass('fixmenu');
        } else {
            $(".menu").animate({}, 1000);
            $(".menu").removeClass('fixmenu');
        }
    });
</script>

<script type="text/javascript">
    $(document).ready(function () {
        var $lightbox = $('#lightbox');

        $('[data-target="#lightbox"]').on('click', function (event) {
            var $img = $(this).find('img'),
                src = $img.attr('src'),
                alt = $img.attr('alt'),
                css = {
                    'maxWidth': $(window).width() - 100,
                    'maxHeight': $(window).height() - 100
                };

            $lightbox.find('.close').addClass('hidden');
            $lightbox.find('img').attr('src', src);
            $lightbox.find('img').attr('alt', alt);
            $lightbox.find('img').css(css);
        });

        $lightbox.on('shown.bs.modal', function (e) {
            var $img = $lightbox.find('img');

            $lightbox.find('.modal-dialog').css({
                'width': $img.width()
            });
            $lightbox.find('.close').removeClass('hidden');
        });
    });
</script>

<script type="text/javascript">
    var conf_name = "{{ site.data.company.name }}";
    var conf_email = "{{ site.data.company.email }}";
    var modal_rgpd = '<div class="modal fade" id="modal-rgpd" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">' +
        '        <div class="modal-dialog" role="document">' +
        '            <div class="modal-content">' +
        '                <div class="modal-body">' +
        '                  * En cochant cette case, j’accepte que mes données personnelles soient collectées et traitées par le service commercial de ' + conf_name + '.' +
        '                   Leur traitement a pour finalité de traiter votre demande spécifique.<br>' +
        '                   Les données collectées sont conservées pour la durée de nos relations commerciales + 1 an. Conformément à la loi' +
        '                   « informatique et libertés », vous pouvez exercer votre droit d’accès aux données vous concernant et les faire rectifier' +
        '                   auprès de notre référent à <a href="mailto:"' + conf_email + '">' + conf_email + '</a>.<br>' +
        '                   Vous disposez également d’un droit de rectification, à l’oubli, à la portabilité, de limitation ou d’opposition auprès de notre référent à ' +
        '                   <a href="mailto:' + conf_email + '">' + conf_email + '</a>.<br><br>' +
        '                   En dernier recours, vous pouvez déposer une réclamation auprès de la CNIL.' +
        '                </div>' +
        '                <div class="modal-footer">' +
        '                    <div class="form-group text-center">' +
        '                        <button type="button" class="btn btn-default btn-primary" data-dismiss="modal">Fermer</button>' +
        '                    </div>' +
        '                </div>' +
        '            </div>' +
        '        </div>' +
        '    </div>';
    $(document).ready(function () {
        $(".info-rgpd label").after(function () {
            return '&nbsp;<a href="#" data-toggle="modal" data-target="#modal-rgpd"><i class="fa fa-info-circle"></i></a>' + modal_rgpd;
        });
    });
</script>

<script src="https://apps.elfsight.com/p/platform.js" defer></script>
<div class="elfsight-app-c4aa58f8-4081-4467-ad84-6b09f3232fa8"></div>

<script>
    class Slider {
        constructor(container) {
            this.container = container;
            this.slider = container.querySelector('.slideer');
            this.slides = container.querySelectorAll('.slidee');
            this.prevButton = container.querySelector('.slideer-prev');
            this.nextButton = container.querySelector('.slideer-next');

            this.currentSlide = 0;
            this.slideCount = this.slides.length;
            this.isAnimating = false;
            this.autoPlayInterval = null;

            this.init();
        }

        init() {
            if (!this.prevButton || !this.nextButton) {
                this.createNavigationButtons();
            }

            this.prevButton.addEventListener('click', () => this.prevSlide());
            this.nextButton.addEventListener('click', () => this.nextSlide());

            this.startAutoPlay();

            this.container.addEventListener('mouseenter', () => this.stopAutoPlay());
            this.container.addEventListener('mouseleave', () => this.startAutoPlay());
        }

        createNavigationButtons() {
            const nav = document.createElement('div');
            nav.className = 'slideer-nav';

            this.prevButton = document.createElement('button');
            this.prevButton.className = 'slideer-button slideer-prev';
            this.prevButton.innerHTML = '<i class="fa-chevron-left fas"></i>';

            this.nextButton = document.createElement('button');
            this.nextButton.className = 'slideer-button slideer-next';
            this.nextButton.innerHTML = '<i class="fa-chevron-right fas"></i>';

            nav.appendChild(this.prevButton);
            nav.appendChild(this.nextButton);
            this.container.appendChild(nav);
        }

        updateSlider() {
            if (this.isAnimating) return;

            this.isAnimating = true;
            const offset = -this.currentSlide * 100;
            this.slider.style.transform = `translateX(${offset}%)`;

            this.stopAutoPlay();
            this.startAutoPlay();

            setTimeout(() => {
                this.isAnimating = false;
            }, 500);
        }

        nextSlide() {
            this.currentSlide = (this.currentSlide + 1) % this.slideCount;
            this.updateSlider();
        }

        prevSlide() {
            this.currentSlide = (this.currentSlide - 1 + this.slideCount) % this.slideCount;
            this.updateSlider();
        }

        startAutoPlay() {
            if (!this.autoPlayInterval) {
                this.autoPlayInterval = setInterval(() => this.nextSlide(), 5000);
            }
        }

        stopAutoPlay() {
            if (this.autoPlayInterval) {
                clearInterval(this.autoPlayInterval);
                this.autoPlayInterval = null;
            }
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        const sliderContainers = document.querySelectorAll('.slideer-container');
        sliderContainers.forEach(container => new Slider(container));
    }); 
</script>